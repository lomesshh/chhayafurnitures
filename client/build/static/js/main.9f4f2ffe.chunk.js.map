{"version":3,"sources":["api/ProductsAPI.js","api/UserAPI.js","api/CategoriesAPI.js","GlobalState.js","components/headers/icon/menu.svg","components/headers/icon/close.svg","components/headers/icon/cart.svg","components/headers/Header.js","components/mainpages/utils/productItem/BtnRender.js","components/mainpages/utils/productItem/ProductItem.js","components/mainpages/utils/loading/Loading.js","components/mainpages/products/Filters.js","components/mainpages/products/LoadMore.js","components/mainpages/products/Products.js","components/mainpages/detailProduct/DetailProduct.js","components/mainpages/auth/Login.js","components/mainpages/auth/Register.js","components/mainpages/history/OrderHistory.js","components/mainpages/history/OrderDetails.js","components/mainpages/cart/PaypalButton.js","components/mainpages/cart/Cart.js","components/mainpages/utils/not_found/NotFound.js","components/mainpages/categories/Categories.js","components/mainpages/createProduct/CreateProduct.js","components/mainpages/Pages.js","App.js","index.js"],"names":["ProductsAPI","useState","products","setProducts","callback","setCallback","category","setCategory","sort","setSort","search","setSearch","page","setPage","result","setResult","useEffect","a","axios","get","res","data","getProducts","UserAPI","token","isLogged","setIsLogged","isAdmin","setIsAdmin","cart","setCart","history","setHistory","headers","Authorization","role","alert","response","msg","getUser","getHistory","addCart","product","every","item","_id","quantity","patch","CategoriesAPI","categories","setCategories","getCategories","GlobalState","createContext","DataProvider","children","setToken","localStorage","getItem","refreshToken","accesstoken","setTimeout","state","productsAPI","userAPI","categoriesAPI","Provider","value","Header","useContext","menu","setMenu","logoutUser","removeItem","window","location","href","styleMenu","left","className","onClick","src","Menu","alt","width","to","style","Close","length","Cart","BtnRender","deleteProduct","id","images","public_id","ProductItem","handleCheck","url","title","price","description","Loading","Filters","name","onChange","e","target","map","type","placeholder","toLowerCase","LoadMore","Products","loading","setLoading","forEach","checked","destroyImg","post","delete","DetailProduct","params","useParams","detailProduct","setDetailProduct","product_id","content","sold","Login","email","password","user","setUser","onChangeInput","loginSubmit","preventDefault","setItem","onSubmit","required","autoComplete","Register","registerSubmit","OrderHistory","items","paymentID","Date","createdAt","toLocaleDateString","OrderDetails","orderDetails","setOrderDetails","address","recipient_name","line1","city","postal_code","country_code","margin","PaypalButton","total","this","props","env","client","sandbox","production","currency","onError","err","console","log","onSuccess","payment","tranSuccess","onCancel","size","React","Component","setTotal","reduce","prev","getTotal","addToCart","textAlign","fontSize","confirm","index","splice","NotFound","Categories","onEdit","setOnEdit","setID","createCategory","put","editCategory","deleteCategory","htmlFor","initialState","CreateProduct","setProduct","setImages","useHistory","param","handleUpload","file","files","formData","FormData","append","handleDestroy","handleChangeInput","handleSubmit","push","styleUpload","display","disabled","rows","Pages","path","exact","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9f4f2ffe.chunk.js","sourcesContent":["import {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\n\r\nfunction ProductsAPI() {\r\n    const [products, setProducts] = useState([])\r\n    const [callback, setCallback] = useState(false)\r\n    const [category, setCategory] = useState('')\r\n    const [sort, setSort] = useState('')\r\n    const [search, setSearch] = useState('')\r\n    const [page, setPage] = useState(1)\r\n    const [result, setResult] = useState(0)\r\n\r\n    useEffect(() =>{\r\n        const getProducts = async () => {\r\n            const res = await axios.get(`/api/products?limit=${page*9}&${category}&${sort}&title[regex]=${search}`)\r\n            setProducts(res.data.products)\r\n            setResult(res.data.result)\r\n        }\r\n        getProducts()\r\n    },[callback, category, sort, search, page])\r\n    \r\n    return {\r\n        products: [products, setProducts],\r\n        callback: [callback, setCallback],\r\n        category: [category, setCategory],\r\n        sort: [sort, setSort],\r\n        search: [search, setSearch],\r\n        page: [page, setPage],\r\n        result: [result, setResult]\r\n    }\r\n}\r\n\r\nexport default ProductsAPI\r\n","import {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nfunction UserAPI(token) {\r\n    const [isLogged, setIsLogged] = useState(false)\r\n    const [isAdmin, setIsAdmin] = useState(false)\r\n    const [cart, setCart] = useState([])\r\n    const [history, setHistory] = useState([])\r\n\r\n    useEffect(() =>{\r\n        if(token){\r\n            const getUser = async () =>{\r\n                try {\r\n                    const res = await axios.get('/user/infor', {\r\n                        headers: {Authorization: token}\r\n                    })\r\n\r\n                    setIsLogged(true)\r\n                    res.data.role === 1 ? setIsAdmin(true) : setIsAdmin(false)\r\n\r\n                    setCart(res.data.cart)\r\n\r\n                } catch (err) {\r\n                    alert(err.response.data.msg)\r\n                }\r\n            }\r\n\r\n            getUser()\r\n            \r\n        }\r\n    },[token])\r\n\r\n    useEffect(() =>{\r\n        if(token){\r\n            const getHistory = async () =>{\r\n              \r\n                    const res = await axios.get('/user/history', {\r\n                        headers: {Authorization: token}\r\n                    })\r\n                    setHistory(res.data)\r\n                }\r\n                getHistory()\r\n            }\r\n        },[token])\r\n\r\n    const addCart = async (product) => {\r\n        if(!isLogged) return alert(\"Please login to continue buying\")\r\n\r\n        const check = cart.every(item =>{\r\n            return item._id !== product._id\r\n        })\r\n\r\n        if(check){\r\n            setCart([...cart, {...product, quantity: 1}])\r\n\r\n            await axios.patch('/user/addcart', {cart: [...cart, {...product, quantity: 1}]}, {\r\n                headers: {Authorization: token}\r\n            })\r\n\r\n        }else{\r\n            alert(\"This product has been added to cart.\")\r\n        }\r\n    }\r\n\r\n    return {\r\n        isLogged: [isLogged, setIsLogged],\r\n        isAdmin: [isAdmin, setIsAdmin],\r\n        cart: [cart, setCart],\r\n        addCart: addCart,\r\n        history: [history, setHistory]\r\n    }\r\n}\r\n\r\nexport default UserAPI\r\n ","import {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nfunction CategoriesAPI() {\r\n    const [categories, setCategories] = useState([])\r\n    const [callback, setCallback] = useState(false)\r\n\r\n    useEffect(() =>{\r\n        const getCategories = async () =>{\r\n            const res = await axios.get('/api/category')\r\n            setCategories(res.data)\r\n        }\r\n\r\n        getCategories()\r\n    },[callback])\r\n    return {\r\n        categories: [categories, setCategories],\r\n        callback: [callback, setCallback]\r\n    }\r\n}\r\n\r\nexport default CategoriesAPI\r\n","import React, {createContext, useState, useEffect} from 'react'\r\nimport ProductsAPI from './api/ProductsAPI'\r\nimport UserAPI from './api/UserAPI'\r\nimport CategoriesAPI from './api/CategoriesAPI'\r\n\r\nimport axios from 'axios'\r\n\r\nexport const GlobalState = createContext()\r\n\r\n\r\nexport const DataProvider = ({children}) =>{\r\n    const [token, setToken] = useState(false)\r\n\r\n\r\n    useEffect(() =>{\r\n        const firstLogin = localStorage.getItem('firstLogin')\r\n        if(firstLogin){\r\n            const refreshToken = async () =>{\r\n                const res = await axios.get('/user/refresh_token')\r\n        \r\n                setToken(res.data.accesstoken)\r\n    \r\n                setTimeout(() => {\r\n                    refreshToken()\r\n                }, 10 * 60 * 1000)\r\n            }\r\n            refreshToken()\r\n        }\r\n    },[])\r\n\r\n\r\n    \r\n    const state = {\r\n        token: [token, setToken],\r\n        productsAPI: ProductsAPI(),\r\n        userAPI: UserAPI(token),\r\n        categoriesAPI: CategoriesAPI()\r\n    }\r\n\r\n    return (\r\n        <GlobalState.Provider value={state}>\r\n            {children}\r\n        </GlobalState.Provider>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/menu.e8db7520.svg\";","export default __webpack_public_path__ + \"static/media/close.ea7c95d7.svg\";","export default __webpack_public_path__ + \"static/media/cart.d146d6c3.svg\";","import React, {useContext, useState} from 'react'\r\nimport {GlobalState} from '../../GlobalState'\r\nimport Menu from './icon/menu.svg'\r\nimport Close from './icon/close.svg'\r\nimport Cart from './icon/cart.svg'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction Header() {\r\n    const state = useContext(GlobalState)\r\n    const [isLogged] = state.userAPI.isLogged\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [cart] = state.userAPI.cart\r\n    const [menu, setMenu] = useState(false)\r\n\r\n    const logoutUser = async () =>{\r\n        await axios.get('/user/logout')\r\n        \r\n        localStorage.removeItem('firstLogin')\r\n        \r\n        window.location.href = \"/\";\r\n    }\r\n\r\n    const adminRouter = () =>{\r\n        return(\r\n            <div>\r\n                <li><Link to=\"/create_product\">Create Product</Link></li>\r\n                <li><Link to=\"/category\">Categories</Link></li>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const loggedRouter = () =>{\r\n        return(\r\n            <div>\r\n                <li><Link to=\"/history\">History</Link></li>\r\n                <li><Link to=\"/\" onClick={logoutUser}>Logout</Link></li>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const styleMenu = {\r\n        left: menu ? 0 : \"-100%\"\r\n    }\r\n\r\n    return (\r\n        <header>\r\n            <div className=\"menu\" onClick={() => setMenu(!menu)}>\r\n                <img src={Menu} alt=\"\" width=\"30\" />\r\n            </div>\r\n\r\n            <div className=\"logo\">\r\n                <h1>\r\n                    <Link to=\"/\">{isAdmin ? 'Admin' : 'Chhaya Furnitures'}</Link>\r\n                </h1>\r\n            </div>\r\n\r\n            <ul style={styleMenu}>\r\n                <li><Link to=\"/\">{isAdmin ? 'Products' : 'Shop'}</Link></li>\r\n\r\n                {isAdmin && adminRouter()}\r\n\r\n                {\r\n                    isLogged ? loggedRouter() : <li><Link to=\"/login\">Login ✥ Register</Link></li>\r\n                }\r\n\r\n                <li onClick={() => setMenu(!menu)}>\r\n                    <img src={Close} alt=\"\" width=\"30\" className=\"menu\" />\r\n                </li>\r\n\r\n            </ul>\r\n\r\n            {\r\n                isAdmin ? '' \r\n                :<div className=\"cart-icon\">\r\n                    <span>{cart.length}</span>\r\n                    <Link to=\"/cart\">\r\n                        <img src={Cart} alt=\"\" width=\"30\" />\r\n                    </Link>\r\n                </div>\r\n            }\r\n            \r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React, {useContext} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {GlobalState} from '../../../../GlobalState'\r\n\r\nfunction BtnRender({product, deleteProduct}) {\r\n    const state = useContext(GlobalState)\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const addCart = state.userAPI.addCart\r\n\r\n    \r\n    return (\r\n        <div className=\"row_btn\">\r\n            {\r\n                isAdmin ? \r\n                <div>\r\n                    <Link id=\"btn_buy\" to=\"#!\" \r\n                    onClick={() =>deleteProduct(product._id, product.images.public_id)}>\r\n                        Delete\r\n                    </Link>\r\n                    <Link id=\"btn_view\" to={`/edit_product/${product._id}`}>\r\n                        Edit\r\n                    </Link>\r\n                </div>\r\n                : <div>\r\n                    <Link id=\"btn_buy\" to=\"#!\" onClick={() => addCart(product)}>\r\n                        Buy\r\n                    </Link>\r\n                    <Link id=\"btn_view\" to={`/detail/${product._id}`}>\r\n                        View\r\n                    </Link>\r\n                </div>\r\n            }\r\n                \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BtnRender\r\n","import React from 'react'\r\nimport BtnRender from './BtnRender'\r\n\r\nfunction ProductItem({product, isAdmin, deleteProduct, handleCheck}) {\r\n\r\n    return (\r\n        <div className=\"product_card\">\r\n\r\n            <img src={product.images.url} alt=\"\" />\r\n\r\n            <div className=\"product_box\">\r\n                <h2 title={product.title}>{product.title}</h2>\r\n                <span>₹{product.price}</span>\r\n                <p>{product.description}</p>\r\n            </div>\r\n\r\n            \r\n            <BtnRender product={product} deleteProduct={deleteProduct} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductItem\r\n","import React from 'react'\r\nimport './loading.css'\r\n\r\nfunction Loading() {\r\n    return (\r\n        <div className=\"load-page\">\r\n            <div className=\"loader\">\r\n                <div>\r\n                    <div>\r\n                        <div>\r\n                            <div>\r\n                                <div>\r\n                                    <div>\r\n                                        <div>\r\n                                            <div></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import React, {useContext} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\n\r\nfunction Filters() {\r\n    const state = useContext(GlobalState)\r\n    const [categories] = state.categoriesAPI.categories\r\n\r\n    const [category, setCategory] = state.productsAPI.category\r\n    const [sort, setSort] = state.productsAPI.sort\r\n    const [search, setSearch] = state.productsAPI.search\r\n\r\n\r\n    const handleCategory = e => {\r\n        setCategory(e.target.value)\r\n        setSearch('')\r\n    }\r\n\r\n    return (\r\n        <div className=\"filter_menu\">\r\n            <div className=\"row\">\r\n                <span>Filters: </span>\r\n                <select name=\"category\" value={category} onChange={handleCategory} >\r\n                    <option value=''>All Products</option>\r\n                    {\r\n                        categories.map(category => (\r\n                            <option value={\"category=\" + category._id} key={category._id}>\r\n                                {category.name}\r\n                            </option>\r\n                        ))\r\n                    }\r\n                </select>\r\n            </div>\r\n\r\n            <input type=\"text\" value={search} placeholder=\"Enter your search!\"\r\n            onChange={e => setSearch(e.target.value.toLowerCase())} />\r\n\r\n            <div className=\"row sort\">\r\n                <span>Sort By: </span>\r\n                <select value={sort} onChange={e => setSort(e.target.value)} >\r\n                    <option value=''>Newest</option>\r\n                    <option value='sort=oldest'>Oldest</option>\r\n                    <option value='sort=-sold'>Best sales</option>\r\n                    <option value='sort=-price'>Price: Hight-Low</option>\r\n                    <option value='sort=price'>Price: Low-Hight</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filters\r\n","import React, {useContext} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\n\r\nfunction LoadMore() {\r\n    const state = useContext(GlobalState)\r\n    const [page, setPage] = state.productsAPI.page\r\n    const [result] = state.productsAPI.result\r\n\r\n    return (\r\n        <div className=\"load_more\">\r\n            {\r\n                result < page * 9 ? \"\"\r\n                : <button onClick={() => setPage(page+1)}>Load more</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadMore\r\n","import React, {useContext, useState} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport ProductItem from '../utils/productItem/ProductItem'\r\nimport Loading from '../utils/loading/Loading'\r\nimport axios from 'axios'\r\nimport Filters from './Filters'\r\nimport LoadMore from './LoadMore'\r\n\r\n\r\nfunction Products() {\r\n    const state = useContext(GlobalState)\r\n    const [products, setProducts] = state.productsAPI.products\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [token] = state.token\r\n    const [callback, setCallback] = state.productsAPI.callback\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const handleCheck = (id) =>{\r\n        products.forEach(product => {\r\n            if(product._id === id) product.checked = !product.checked\r\n        })\r\n        setProducts([...products])\r\n    }\r\n\r\n    const deleteProduct = async(id, public_id) => {\r\n        try {\r\n            setLoading(true)\r\n            const destroyImg = axios.post('/api/destroy', {public_id},{\r\n                headers: {Authorization: token}\r\n            })\r\n            const deleteProduct = axios.delete(`/api/products/${id}`, {\r\n                headers: {Authorization: token}\r\n            })\r\n\r\n            await destroyImg\r\n            await deleteProduct\r\n            setCallback(!callback)\r\n            setLoading(false)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n \r\n\r\n    if(loading) return <div><Loading /></div>\r\n    return (\r\n        <div>\r\n        <Filters />\r\n\r\n        <div className=\"products\">\r\n            {\r\n                products.map(product => {\r\n                    return <ProductItem key={product._id} product={product}\r\n                    isAdmin={isAdmin} deleteProduct={deleteProduct} handleCheck={handleCheck} />\r\n                })\r\n            } \r\n        </div>\r\n\r\n        <LoadMore />\r\n        {products.length === 0 && <Loading />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Products\r\n","import React, {useContext, useState, useEffect} from 'react'\r\nimport {useParams, Link} from 'react-router-dom'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport ProductItem from '../utils/productItem/ProductItem'\r\n\r\n\r\nfunction DetailProduct() {\r\n    const params = useParams()\r\n    const state = useContext(GlobalState)\r\n    const [products] = state.productsAPI.products\r\n    const addCart = state.userAPI.addCart\r\n    const [detailProduct, setDetailProduct] = useState([])\r\n\r\n    useEffect(() =>{\r\n        if(params.id){\r\n\r\n            products.forEach(product => {\r\n                if(product._id === params.id) setDetailProduct(product)\r\n            })\r\n        }\r\n    },[params.id, products])\r\n\r\n    if(detailProduct.length === 0) return null;\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"detail\">\r\n                <img src={detailProduct.images.url} alt=\"\" />\r\n                <div className=\"box-detail\">\r\n                    <div className=\"row\">\r\n                        <h2>{detailProduct.title}</h2>\r\n                        <h6>#id: {detailProduct.product_id}</h6>\r\n                    </div>\r\n                    <span>₹ {detailProduct.price}</span>\r\n                    <p>{detailProduct.description}</p>\r\n                    <p>{detailProduct.content}</p>\r\n                    <p>Sold: {detailProduct.sold}</p>\r\n                    <Link to=\"/cart\" className=\"cart\"\r\n                    onClick={() => addCart(detailProduct)}>\r\n                        Buy Now\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <h2>Related products</h2>\r\n                <div className=\"products\">\r\n                    {\r\n                        products.map(product => {\r\n                            return product.category === detailProduct.category \r\n                                ? <ProductItem key={product._id} product={product} /> : null\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DetailProduct\r\n","import React, {useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction Login() {\r\n    const [user, setUser] = useState({\r\n        email:'', password: ''\r\n    })\r\n\r\n    const onChangeInput = e =>{\r\n        const {name, value} = e.target;\r\n        setUser({...user, [name]:value})\r\n    }\r\n\r\n    const loginSubmit = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            await axios.post('/user/login', {...user})\r\n\r\n            localStorage.setItem('firstLogin', true)\r\n            \r\n            window.location.href = \"/\";\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <form onSubmit={loginSubmit}>\r\n                <h2>Login</h2>\r\n                <input type=\"email\" name=\"email\" required\r\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\r\n\r\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\r\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\r\n\r\n                <div className=\"row\">\r\n                    <button type=\"submit\">Login</button>\r\n                    <Link to=\"/register\">Register</Link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, {useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction Register() {\r\n    const [user, setUser] = useState({\r\n        name:'', email:'', password: ''\r\n    })\r\n\r\n    const onChangeInput = e =>{\r\n        const {name, value} = e.target;\r\n        setUser({...user, [name]:value})\r\n    }\r\n\r\n    const registerSubmit = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            await axios.post('/user/register', {...user})\r\n\r\n            localStorage.setItem('firstLogin', true)\r\n\r\n            window.location.href = \"/\";\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <form onSubmit={registerSubmit}>\r\n                <h2>Register</h2>\r\n                <input type=\"text\" name=\"name\" required\r\n                placeholder=\"Name\" value={user.name} onChange={onChangeInput} />\r\n\r\n                <input type=\"email\" name=\"email\" required\r\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\r\n\r\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\r\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\r\n\r\n                <div className=\"row\">\r\n                    <button type=\"submit\">Register</button>\r\n                    <Link to=\"/login\">Login</Link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register","import React, {useContext, useEffect} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction OrderHistory() {\r\n    const state = useContext(GlobalState)\r\n    const [history, setHistory] = state.userAPI.history\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [token] = state.token\r\n    \r\n\r\n    useEffect(() => {\r\n        if(token){\r\n            const getHistory = async() =>{\r\n                if(isAdmin){\r\n                    const res = await axios.get('/api/payment', {\r\n                        headers: {Authorization: token}\r\n                    })\r\n                    setHistory(res.data)\r\n                }else{\r\n                    const res = await axios.get('/user/history', {\r\n                        headers: {Authorization: token}\r\n                    })\r\n                    setHistory(res.data)\r\n                }\r\n            }\r\n            getHistory()\r\n        }\r\n    },[token, isAdmin, setHistory])\r\n\r\n    return (\r\n        <div className=\"history-page\">\r\n            <h2>History</h2>\r\n\r\n            <h4>You have {history.length} ordered</h4>\r\n\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Payment ID</th>\r\n                        <th>Date of Purchased</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        history.map(items => (\r\n                            <tr key={items._id}>\r\n                                <td>{items.paymentID}</td>\r\n                                <td>{new Date(items.createdAt).toLocaleDateString()}</td>\r\n                                <td><Link to={`/history/${items._id}`}>View</Link></td>\r\n                            </tr>\r\n                        ))\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderHistory\r\n","import React, {useState, useEffect, useContext} from 'react'\r\nimport {useParams} from 'react-router-dom'\r\nimport {GlobalState} from '../../../GlobalState'\r\n\r\nfunction OrderDetails() {\r\n    const state = useContext(GlobalState)\r\n    const [history] = state.userAPI.history\r\n    const [orderDetails, setOrderDetails] = useState([])\r\n\r\n    const params = useParams()\r\n\r\n    useEffect(() => {\r\n        if(params.id){\r\n            history.forEach(item =>{\r\n                if(item._id === params.id) setOrderDetails(item)\r\n            })\r\n        }\r\n    },[params.id, history])\r\n\r\n\r\n    if(orderDetails.length === 0) return null;\r\n\r\n    return (\r\n        <div className=\"history-page\">\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Address</th>\r\n                        <th>Postal Code</th>\r\n                        <th>Country Code</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>{orderDetails.address.recipient_name}</td>\r\n                        <td>{orderDetails.address.line1 + \" - \" + orderDetails.address.city}</td>\r\n                        <td>{orderDetails.address.postal_code}</td>\r\n                        <td>{orderDetails.address.country_code}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <table style={{margin: \"30px 0px\"}}>\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>Products</th>\r\n                        <th>Quantity</th>\r\n                        <th>Price</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        orderDetails.cart.map(item =>(\r\n                        <tr key={item._id}>\r\n                            <td><img src={item.images.url} alt=\"\" /></td>\r\n                            <td>{item.title}</td>\r\n                            <td>{item.quantity}</td>\r\n                            <td>$ {item.price * item.quantity}</td>\r\n                        </tr>\r\n                        ))\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderDetails\r\n","import React from 'react';\r\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\r\n \r\nexport default class PaypalButton extends React.Component {\r\n    render() {\r\n        const onSuccess = (payment) => {\r\n            // Congratulation, it came here means everything's fine!\r\n            \t\tconsole.log(\"The payment was succeeded!\", payment);\r\n            \t\t// You can bind the \"payment\" object's value to your state or props or whatever here, please see below for sample returned data\r\n                    this.props.tranSuccess(payment)\r\n        }\r\n \r\n        const onCancel = (data) => {\r\n            // User pressed \"cancel\" or close Paypal's popup!\r\n            console.log('The payment was cancelled!', data);\r\n            // You can bind the \"data\" object's value to your state or props or whatever here, please see below for sample returned data\r\n        }\r\n \r\n        const onError = (err) => {\r\n            // The main Paypal's script cannot be loaded or somethings block the loading of that script!\r\n            console.log(\"Error!\", err);\r\n            // Because the Paypal's main script is loaded asynchronously from \"https://www.paypalobjects.com/api/checkout.js\"\r\n            // => sometimes it may take about 0.5 second for everything to get set, or for the button to appear\r\n        }\r\n \r\n        let env = 'sandbox'; // you can set here to 'production' for production\r\n        let currency = 'INR'; // or you can set this value from your props or state\r\n        let total = this.props.total; // same as above, this is the total amount (based on currency) to be paid by using Paypal express checkout\r\n        // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\r\n \r\n        const client = {\r\n            sandbox:    'AfAEQ-MtnV4tKFKkNCu-EcwIFGDE7Dc2HcJt5fz4nQJ0HK3-JXYPiTjZPh_GTl40pF5DnzXAAV6mbgzX',\r\n            production: 'AaSSvnM4XoO21d8oIQlc98h2blZxvCx84w3xXEOM7-OyyHZsoCj9sKtTOvr3n8BPAGLQJIUAixhxqMf0',\r\n        }\r\n        // In order to get production's app-ID, you will have to send your app to Paypal for approval first\r\n        // For sandbox app-ID (after logging into your developer account, please locate the \"REST API apps\" section, click \"Create App\"):\r\n        //   => https://developer.paypal.com/doc s/classic/lifecycle/sb_credentials/\r\n        // For production app-ID:\r\n        //   => https://developer.paypal.com/docs/classic/lifecycle/goingLive/\r\n \r\n        // NB. You can also have many Paypal express checkout buttons on page, just pass in the correct amount and they will work!\r\n        let style = {\r\n            size: 'medium'\r\n        }\r\n\r\n        return (\r\n            <PaypalExpressBtn env={env} client={client} \r\n            currency={currency} \r\n            total={total} onError={onError} \r\n            onSuccess={onSuccess} onCancel={onCancel} \r\n            style = {style} />\r\n        );\r\n    }\r\n}","import React, {useContext, useState, useEffect} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport axios from 'axios'\r\nimport PaypalButton from './PaypalButton'\r\n\r\nfunction Cart() {\r\n    const state = useContext(GlobalState)\r\n    const [cart, setCart] = state.userAPI.cart\r\n    const [token] = state.token\r\n    const [total, setTotal] = useState(0)\r\n\r\n    useEffect(() =>{\r\n        const getTotal = () =>{\r\n            const total = cart.reduce((prev, item) => {\r\n                return prev + (item.price * item.quantity)\r\n            },0)\r\n\r\n            setTotal(total)\r\n        }\r\n\r\n        getTotal()\r\n\r\n    },[cart])\r\n\r\n    const addToCart = async (cart) =>{\r\n        await axios.patch('/user/addcart', {cart}, {\r\n            headers: {Authorization: token}\r\n        })\r\n    }\r\n\r\n\r\n    const increment = (id) =>{\r\n        cart.forEach(item => {\r\n            if(item._id === id){\r\n                item.quantity += 1\r\n            }\r\n        })\r\n\r\n        setCart([...cart])\r\n        addToCart(cart)\r\n    }\r\n\r\n    const decrement = (id) =>{\r\n        cart.forEach(item => {\r\n            if(item._id === id){\r\n                item.quantity === 1 ? item.quantity = 1 : item.quantity -= 1\r\n            }\r\n        })\r\n\r\n        setCart([...cart])\r\n        addToCart(cart)\r\n    }\r\n\r\n    const removeProduct = id =>{\r\n        if(window.confirm(\"Do you want to delete this product?\")){\r\n            cart.forEach((item, index) => {\r\n                if(item._id === id){\r\n                    cart.splice(index, 1)\r\n                }\r\n            })\r\n\r\n            setCart([...cart])\r\n            addToCart(cart)\r\n        }\r\n    }\r\n\r\n    const tranSuccess = async(payment) => {\r\n        const {paymentID, address} = payment;\r\n\r\n        await axios.post('/api/payment', {cart, paymentID, address}, {\r\n            headers: {Authorization: token}\r\n        })\r\n\r\n        setCart([])\r\n        addToCart([])\r\n        alert(\"You have successfully placed an order.\")\r\n    }\r\n\r\n\r\n    if(cart.length === 0) \r\n        return <h2 style={{textAlign: \"center\", fontSize: \"5rem\"}}>Cart Empty</h2> \r\n\r\n    return (\r\n        <div>\r\n            {\r\n                cart.map(product => (\r\n                    <div className=\"detail cart\" key={product._id}>\r\n                        <img src={product.images.url} alt=\"\" />\r\n\r\n                        <div className=\"box-detail\">\r\n                            <h2>{product.title}</h2>\r\n\r\n                            <h3>₹ {product.price * product.quantity}</h3>\r\n                            <p>{product.description}</p>\r\n                            <p>{product.content}</p>\r\n\r\n                            <div className=\"amount\">\r\n                                <button onClick={() => decrement(product._id)}> - </button>\r\n                                <span>{product.quantity}</span>\r\n                                <button onClick={() => increment(product._id)}> + </button>\r\n                            </div>\r\n                            \r\n                            <div className=\"delete\" \r\n                            onClick={() => removeProduct(product._id)}>\r\n                                X\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))  \r\n            }\r\n\r\n            <div className=\"total\">\r\n            <h3> Delivery Charge : Free </h3>\r\n            <h1> Total : ₹ {total} </h1>\r\n            <PaypalButton total={total} tranSuccess={tranSuccess} />\r\n                \r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n","import React from 'react'\r\n\r\nfunction NotFound() {\r\n    return(\r\n        <div>\r\n            404 | Not Found\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound","import React, {useState, useContext} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport axios from 'axios'\r\n\r\nfunction Categories() {\r\n    const state = useContext(GlobalState)\r\n    const [categories] = state.categoriesAPI.categories\r\n    const [category, setCategory] = useState('')\r\n    const [token] = state.token\r\n    const [callback, setCallback] = state.categoriesAPI.callback\r\n    const [onEdit, setOnEdit] = useState(false)\r\n    const [id, setID] = useState('')\r\n\r\n    const createCategory = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            if(onEdit){\r\n                const res = await axios.put(`/api/category/${id}`, {name: category}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n                alert(res.data.msg)\r\n            }else{\r\n                const res = await axios.post('/api/category', {name: category}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n                alert(res.data.msg)\r\n            }\r\n            setOnEdit(false)\r\n            setCategory('')\r\n            setCallback(!callback)\r\n            \r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const editCategory = async (id, name) =>{\r\n        setID(id)\r\n        setCategory(name)\r\n        setOnEdit(true)\r\n    }\r\n\r\n    const deleteCategory = async id =>{\r\n        try {\r\n            const res = await axios.delete(`/api/category/${id}`, {\r\n                headers: {Authorization: token}\r\n            })\r\n            alert(res.data.msg)\r\n            setCallback(!callback)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"categories\">\r\n            <form onSubmit={createCategory}>\r\n                <label htmlFor=\"category\">Category</label>\r\n                <input type=\"text\" name=\"category\" value={category} required\r\n                onChange={e => setCategory(e.target.value)} />\r\n\r\n                <button type=\"submit\">{onEdit? \"Update\" : \"Create\"}</button>\r\n            </form>\r\n\r\n            <div className=\"col\">\r\n                {\r\n                    categories.map(category => (\r\n                        <div className=\"row\" key={category._id}>\r\n                            <p>{category.name}</p>\r\n                            <div>\r\n                                <button onClick={() => editCategory(category._id, category.name)}>Edit</button>\r\n                                <button onClick={() => deleteCategory(category._id)}>Delete</button>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Categories\r\n","import React, {useState, useContext, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport Loading from '../utils/loading/Loading'\r\nimport {useHistory, useParams} from 'react-router-dom'\r\n\r\nconst initialState = {\r\n    product_id: '',\r\n    title: '',\r\n    price: 0,\r\n    description: 'Write Your Product Description Here',\r\n    content: 'Explain Your Product Here',\r\n    category: '',\r\n    _id: ''\r\n}\r\n\r\nfunction CreateProduct() {\r\n    const state = useContext(GlobalState)\r\n    const [product, setProduct] = useState(initialState)\r\n    const [categories] = state.categoriesAPI.categories\r\n    const [images, setImages] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [token] = state.token\r\n\r\n    const history = useHistory()\r\n    const param = useParams()\r\n\r\n    const [products] = state.productsAPI.products\r\n    const [onEdit, setOnEdit] = useState(false)\r\n    const [callback, setCallback] = state.productsAPI.callback\r\n\r\n    useEffect(() => {\r\n        if(param.id){\r\n            setOnEdit(true)\r\n            products.forEach(product => {\r\n                if(product._id === param.id) {\r\n                    setProduct(product)\r\n                    setImages(product.images)\r\n                }\r\n            })\r\n        }else{\r\n            setOnEdit(false)\r\n            setProduct(initialState)\r\n            setImages(false)\r\n        }\r\n    }, [param.id, products])\r\n\r\n    const handleUpload = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            if(!isAdmin) return alert(\"You're not an admin\")\r\n            const file = e.target.files[0]\r\n            \r\n            if(!file) return alert(\"File not exist.\")\r\n\r\n            if(file.size > 1024 * 1024) // 1mb\r\n                return alert(\"Size too large!\")\r\n\r\n            if(file.type !== 'image/jpeg' && file.type !== 'image/png') // 1mb\r\n                return alert(\"File format is incorrect.\")\r\n\r\n            let formData = new FormData()\r\n            formData.append('file', file)\r\n\r\n            setLoading(true)\r\n            const res = await axios.post('/api/upload', formData, {\r\n                headers: {'content-type': 'multipart/form-data', Authorization: token}\r\n            })\r\n            setLoading(false)\r\n            setImages(res.data)\r\n\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const handleDestroy = async () => {\r\n        try {\r\n            if(!isAdmin) return alert(\"You're not an admin\")\r\n            setLoading(true)\r\n            await axios.post('/api/destroy', {public_id: images.public_id}, {\r\n                headers: {Authorization: token}\r\n            })\r\n            setLoading(false)\r\n            setImages(false)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const handleChangeInput = e =>{\r\n        const {name, value} = e.target\r\n        setProduct({...product, [name]:value})\r\n    }\r\n\r\n    const handleSubmit = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            if(!isAdmin) return alert(\"You're not an admin\")\r\n            if(!images) return alert(\"No Image Upload\")\r\n\r\n            if(onEdit){\r\n                await axios.put(`/api/products/${product._id}`, {...product, images}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n            }else{\r\n                await axios.post('/api/products', {...product, images}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n            }\r\n            setCallback(!callback)\r\n            history.push(\"/\")\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const styleUpload = {\r\n        display: images ? \"block\" : \"none\"\r\n    }\r\n    return (\r\n        <div className=\"create_product\">\r\n            <div className=\"upload\">\r\n                <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload}/>\r\n                {\r\n                    loading ? <div id=\"file_img\"><Loading /></div>\r\n\r\n                    :<div id=\"file_img\" style={styleUpload}>\r\n                        <img src={images ? images.url : ''} alt=\"\"/>\r\n                        <span onClick={handleDestroy}>X</span>\r\n                    </div>\r\n                }\r\n                \r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"product_id\">Product ID</label>\r\n                    <input type=\"text\" name=\"product_id\" id=\"product_id\" required\r\n                    value={product.product_id} onChange={handleChangeInput} disabled={onEdit} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"title\">Title</label>\r\n                    <input type=\"text\" name=\"title\" id=\"title\" required\r\n                    value={product.title} onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"price\">Price</label>\r\n                    <input type=\"number\" name=\"price\" id=\"price\" required\r\n                    value={product.price} onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"description\">Description</label>\r\n                    <textarea type=\"text\" name=\"description\" id=\"description\" required\r\n                    value={product.description} rows=\"5\" onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"content\">Content</label>\r\n                    <textarea type=\"text\" name=\"content\" id=\"content\" required\r\n                    value={product.content} rows=\"7\" onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"categories\">Categories: </label>\r\n                    <select name=\"category\" value={product.category} onChange={handleChangeInput} >\r\n                        <option value=\"\">Please select a category</option>\r\n                        {\r\n                            categories.map(category => (\r\n                                <option value={category._id} key={category._id}>\r\n                                    {category.name}\r\n                                </option>\r\n                            ))\r\n                        }\r\n                    </select>\r\n                </div>\r\n\r\n                <button type=\"submit\">{onEdit? \"Update\" : \"Create\"}</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateProduct\r\n","import React, {useContext} from 'react'\r\nimport {Switch, Route} from 'react-router-dom'\r\nimport Products from './products/Products'\r\nimport DetailProduct from './detailProduct/DetailProduct'\r\nimport Login from './auth/Login'\r\nimport Register from './auth/Register'\r\nimport OrderHistory from './history/OrderHistory'\r\nimport OrderDetails from './history/OrderDetails'\r\nimport Cart from './cart/Cart'\r\nimport NotFound from './utils/not_found/NotFound'\r\nimport Categories from './categories/Categories'\r\nimport CreateProduct from './createProduct/CreateProduct'\r\n\r\nimport {GlobalState} from '../../GlobalState'\r\n\r\n\r\nfunction Pages() {\r\n    const state = useContext(GlobalState)\r\n    const [isLogged] = state.userAPI.isLogged\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/\" exact component={Products} />\r\n            <Route path=\"/detail/:id\" exact component={DetailProduct} />\r\n\r\n            <Route path=\"/login\" exact component={isLogged ? Login : Login} />\r\n            <Route path=\"/register\" exact component={isLogged ? Register : Register} />\r\n\r\n            <Route path=\"/category\" exact component={isAdmin ? Categories : Categories} />\r\n            <Route path=\"/create_product\" exact component={isAdmin ? CreateProduct : CreateProduct} />\r\n            <Route path=\"/edit_product/:id\" exact component={isAdmin ? CreateProduct : CreateProduct} />\r\n\r\n            <Route path=\"/history\" exact component={isLogged ? OrderHistory : OrderHistory} />\r\n            <Route path=\"/history/:id\" exact component={isLogged ? OrderDetails : OrderDetails} />\r\n\r\n            <Route path=\"/cart\" exact component={Cart} />\r\n\r\n\r\n            <Route path=\"*\" exact component={NotFound} />\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default Pages\r\n","import React from 'react';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport {DataProvider} from './GlobalState'\nimport Header from './components/headers/Header'\nimport MainPages from './components/mainpages/Pages'\n\n\nfunction App() {\n  return (\n    <DataProvider>\n      <Router>\n        <div className=\"App\">\n        <Header />\n        <MainPages />\n        </div>\n      </Router>\n    </DataProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}